---
const items = [
  {
    title: "Jeg er ny med CP",
    content:
      "Har du eller én du kender netop fået diagnosen cerebral parese? Her på siden får du en introduktion til hvad CP er, hvilke typer der findes, og hvad det kan betyde for hverdagen. Du finder også information om støtteordninger, muligheder for kontakt med CP Danmarks rådgivning, og tips til at finde fællesskab med andre i samme situation.",
  },
  {
    title: "Jeg er forælder",
    content:
      "Som forælder til et barn med CP kan du stå med mange spørgsmål og bekymringer— både praktiske og følelsesmæssige. På siden finder du vejledning om rettigheder, støtte i institutioner og skoler, og hvordan du skaber en god hverdag for dit barn og resten af familien. Du kan også læse om netværksmuligheder og få kontakt til rådgivning, hvis du har brug for sparring.",
  },
  {
    title: "Jeg er fagperson",
    content:
      "Arbejder du med børn, unge eller voksne med CP? Herinde på vores side har vi samlet relevant viden og materialer til fagpersoner inden for sundhed, skole, dagtilbud og socialt arbejde. Du får indblik i hvordan CP påvirker motorik, kommunikation og læring— og hvordan du kan støtte op om trivsel og udvikling i din faglige rolle. Du finder også information om hvordan du kan kontakte CP Danmarks faglige team ved behov.",
  },
  {
    title: "Jeg har brug for støtte",
    content:
      "Det kan være svært at finde rundt i mulighederne for støtte og rettigheder, når man har CP— både som barn, ung eller voksen. På denne side kan du læse om hvilken hjælp du kan få fra det offentlige, hvordan du søger støtte, og hvem du kan kontakte hvis du har spørgsmål. Du finder også information om rådgivning, bostøtte, hjælpemidler og meget mere.",
  },
];
---

<div class="mx-auto space-y-2" id="accordion-7">
  {
    items.map((item, index) => (
      <div class="accordion-item border border-gray-400 bg-gray-100 overflow-hidden" data-index={index}>
        <button class="accordion-header w-full flex justify-between items-center px-4 py-5 text-left text-lg font-semibold text-gray-800">
          <h4 class="text-lg font-semibold">{item.title}</h4>
          <svg class="accordion-icon w-5 h-5 text-gray-500 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        <div class="accordion-content px-4 text-gray-600 max-h-0 overflow-hidden transition-all duration-300">
          <p class="pb-4" set:html={item.content} />
        </div>
      </div>
    ))
  }
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const items = document.querySelectorAll("#accordion-7 .accordion-item");

    items.forEach((item, idx) => {
      const header = item.querySelector(".accordion-header");
      const content = item.querySelector(".accordion-content");
      const icon = item.querySelector(".accordion-icon");

      header.addEventListener("click", () => {
        items.forEach((otherItem, i) => {
          const otherContent = otherItem.querySelector(".accordion-content");
          const otherIcon = otherItem.querySelector(".accordion-icon");

          if (i === idx) {
            const isOpen = content.style.maxHeight;
            if (isOpen) {
              content.style.maxHeight = null;
              icon.style.transform = "rotate(0deg)";
            } else {
              content.style.maxHeight = content.scrollHeight + "px";
              icon.style.transform = "rotate(180deg)";
            }
          } else {
            otherContent.style.maxHeight = null;
            otherIcon.style.transform = "rotate(0deg)";
          }
        });
      });
    });
  });
</script>

<style>
  /* Dark mode */
  body.dark .accordion-header h4,
  body.dark .accordion-content p {
    color: #f6f6f6;
  }
  body.dark .accordion-icon {
    stroke: #f6f6f6;
  }

  body.dark .accordion-item {
    background-color: #4f4f4f;
    border-color: #7d7d7d;
  }

  body.dark .accordion-content a {
    color: #7dc1fc;
  }
</style>
